import numpy as np
from matplotlib import pyplot as plt
from scipy import optimize

# Пункт 3
nu = np.array([22.5, 31.5, 40.5, 49.5, 58, 67.5, 76.5, 85.5, 94.5, 103.5, 112.5], dtype=np.float64)  # Гц
U1 = np.array([6.3, 6.4, 6.44, (5.25 + 7.5) / 2, 6.58, 6.64, 6.7, 6.8, 6.86, 6.95, 7.0], dtype=np.float64)  # мВ
I1 = np.array([22.08, 22.02, 21.9, 21.7, 21.58, 21.39, 21.19, 20.99, 20.79, 20.59, 20.4], dtype=np.float64)  # мА

dzeta = (U1 / nu / I1) * 1000
print(type(dzeta))
print(dzeta)


def fit_function(x, b, k, a):
    return b * np.exp(-k * x) + a


beta_opt, beta_cov = optimize.curve_fit(fit_function, nu, dzeta)
plt.plot(nu, fit_function(nu, *beta_opt))
print(beta_opt)

plt.scatter(nu, dzeta)
plt.show()

# Пункт 4
nu2 = [112.5, 130.5, 148.5, 166.6, 182.5, 202.6, 225.1, 337.65, 450.2, 562.75, 675.3, 787.85, 900.4, 1012.95, 1125.5]
# первые 6 значений и вторые 8
U2 = [7, 7.2, 7.5, 7.7, 7.9, 8.15, 8.45, 9.8, 10.7, 11.47, 11.92, 12.3, 12.58, 12.65, 12.9]
I2 = [20.36, 20, 19.55, 19.4, 19.16, 18.92, 18.68, 17.9, 17.45, 17.11, 16.8, 16.5, 16.16, 15.86, 15.86]
x01 = [8, 7.5, 6.5, 6, 5.5, 5, 5, 5, 6, 10, 10.5, 8, 7, 5, 4]
# x = [4.5, 5, 4, 4, 3.5, 3]
x1 = [2.5, 2, 2, 1.5, 1.5, 1.5, 1.25, 1, 1, 1.25, 1, 1.75, 0.75, 0.5, 0.3]

# Пункт  5
nu3 = [1411.88, 1771.1, 2221, 2787.14, 3496.32, 4385.96, 5501.97, 6901.95, 8658.16, 10861.23, 13624.86, 17091.71,
       21440.7, 26896, 33740]
U3 = [12.77, 12.95, 14.1, 14.45, 14.73, 15.1, 15.17, 15.5, 13, 13.8, 14.4, 15.00, 15.56, 15.97, 14.13]
I3 = [14.66, 13.57, 12.25, 10.78, 9.26, 7.78, 6.42, 5.22, 3.29, 2.77, 2.23, 1.69, 1.15, 0.62, 0.132]
x02 = [6.5, 5.5, 4.5, 4, 3, 2.5, 3.5, 2.5, 2, 5, 4.8, 4, 3.8, 3.5, 3.3]
x2 = [0.3, 0.3, 0.4, 0.5, 0.8, 1, 3, 1, 1, 2, 2.2, 2, 2.2, 2.5, 2.8]

# Пункт 5
L = [9.88, 9.26, 8.5, 7.2, 5.3, 4.8, 3.7, 3.2, 2.96, 2.92, 2.9, 2.89, 2.89, 2.9, 2.92, 2.98, 3.22, 3.7, 4.7, 7.3]  # Гн
R = [19.27, 19.9, 20.7, 22.2, 24.2, 24.8, 26, 26.6, 27.2, 27.5, 28, 28.4, 30.9, 32.5, 35.33, 41.1, 58.24, 91, 175.8,
     541.5]  # Ом
